import{d as Y,a6 as z,l as m,u as Q,h as Z,t as ee,i as le,D as se,m as S,o as oe,j as B,r as b,c as p,e as r,p as u,q as d,g as t,a as l,w as o,x as E,y as N,W as te,X as ae,n as c,B as w,z as A,A as O,a4 as re,C as ie,a7 as ne,H as ue,E as q,k as de,_ as fe}from"./index-DpLe_dtH.js";import{a as ge}from"./authLogin-AlxdDqfg.js";const me={class:"bigBox"},pe={key:0,class:"box",ref:"box"},ce={key:0,class:"slide-title"},ve={key:1,class:"slide-title"},_e={class:"img-box"},xe=["src"],be={class:"register-form"},we={class:"register-btn-box"},ye={class:"login-form"},ke=["src"],Ce={class:"login-btn-box"},Ve={key:1,class:"beianhao"},Ne={key:2,class:"login-form"},he={class:"flex flex-items-center m-t-10px"},Ue=["src"],Pe={class:"login-btn-box"},Fe=Y({__name:"index2",setup(Re){z(_=>({"03baa058":F.value,"0ce5fd7c":R.value}));const{isMobile:h}=Q(),K=Z(),D=ee(),T=le(),L=se(),C=m(),n=m(!1),a=S({loginName:"koi",password:"123456",securityCode:"1234",codeKey:"",captchaPicture:"https://img2.baidu.com/it/u=3634763958,804148936&fm=253&fmt=auto&app=138&f=JPEG?w=942&h=298"}),M=S({loginName:[{required:!0,message:"用户名不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}],securityCode:[{required:!0,message:"验证码不能为空",trigger:"blur"}]}),y=async()=>{},V=()=>{if(a.loginName!="koi")return re("用户名必须koi！"),!1;C.value&&C.value.validate(async(_,e)=>{if(a.loginName,a.password,a.securityCode,_){n.value=!0;try{K.setToken(ge.data.tokenValue),await ie(),D.setTab([]),T.setKeepAliveName([]),n.value=!1,ne("登录成功🌻"),L.push(ue)}catch{let i=1;setInterval(()=>{i--,i===0&&(n.value=!1)},1e3)}}else q("校验失败，信息填写有误🌻")})},U=m(),f=S({regUserName:"YU-ADMIN🌻",regPwd:"123456",regConfirmPwd:"1234567",regCode:"1"}),$={regUserName:[{required:!0,message:"用户名不能为空",trigger:"blur"}],regPwd:[{required:!0,message:"密码不能为空",trigger:"blur"}],regConfirmPwd:[{required:!0,message:"确认密码不能为空",trigger:"blur"}],regCode:[{required:!0,message:"审核员不能为空",trigger:"blur"}]},j=m([{value:"1",label:"YU-ADMIN🌻"},{value:"2",label:"于金金🍀"},{value:"3",label:"张大仙🌸"},{value:"4",label:"蕾姆🌹"},{value:"5",label:"橙留香🌵"},{value:"6",label:"菠萝吹雪🌵"},{value:"7",label:"陆小果🌵"}]);oe(()=>{y()});const G=()=>{if(f.regPwd!=f.regConfirmPwd)return q("两次密码输入不同，请检查后重新注册！"),!1;n.value=!0;let _=1;setInterval(()=>{if(_--,_===0){if(n.value=!1,!U.value)return;U.value.validate((e,g)=>{e&&(de("注册成功，请前去登录🌻"),L.push("/login"))})}},1e3)},v=m(!0),P=m(`${B("images/login/waoku.jpg")}`),k=m(),F=m("#FE3E7C"),R=m("#F9739E"),H=()=>{v.value=!0,P.value=`${B("images/login/waoku.jpg")}`,k.value.style.background="#edd4dc",k.value.style.transform="translateX(0%)",F.value="#FE3E7C",R.value="#F9739E"},X=()=>{v.value=!1,P.value=`${B("images/login/wuwu.jpg")}`,k.value.style.background="#c9e0ed",k.value.style.transform="translateX(100%)",F.value="#409EFF",R.value="#79BBFF"};return(_,e)=>{const g=b("el-input"),i=b("el-form-item"),J=b("el-option"),W=b("el-select"),I=b("el-form"),x=b("el-button");return r(),p("div",me,[d(h)?u("",!0):(r(),p("div",pe,[t("div",{class:"slide-box",ref_key:"slideRef",ref:k},[v.value?(r(),p("h1",ce,"欢迎登录-KOI-ADMIN🌻")):u("",!0),v.value?u("",!0):(r(),p("h1",ve,"欢迎注册-KOI-ADMIN🌻")),e[10]||(e[10]=t("p",{class:"slide-title"},"JOIN US",-1)),t("div",_e,[t("img",{class:"select-none",src:P.value,alt:"LOGO"},null,8,xe)]),v.value?(r(),p("div",{key:2,class:"slide-button",onClick:X},"还没有账户？点击注册🍀")):u("",!0),v.value?u("",!0):(r(),p("div",{key:3,class:"slide-button",onClick:H},"已存在账户？点击登录🍀"))],512),t("div",be,[e[13]||(e[13]=t("div",{class:"register-title"},[t("h1",null,"用户注册🌻")],-1)),l(I,{ref_key:"registerFormRef",ref:U,model:f,rules:$},{default:o(()=>[l(i,{prop:"regUserName"},{default:o(()=>[l(g,{type:"text",placeholder:"请输入用户名","suffix-icon":d(E),modelValue:f.regUserName,"onUpdate:modelValue":e[0]||(e[0]=s=>f.regUserName=s)},null,8,["suffix-icon","modelValue"])]),_:1}),l(i,{prop:"regPwd"},{default:o(()=>[l(g,{type:"password",placeholder:"请输入密码","show-password":"","suffix-icon":d(N),modelValue:f.regPwd,"onUpdate:modelValue":e[1]||(e[1]=s=>f.regPwd=s)},null,8,["suffix-icon","modelValue"])]),_:1}),l(i,{prop:"regConfirmPwd"},{default:o(()=>[l(g,{type:"password",placeholder:"请输入确认密码","show-password":"","suffix-icon":d(N),modelValue:f.regConfirmPwd,"onUpdate:modelValue":e[2]||(e[2]=s=>f.regConfirmPwd=s)},null,8,["suffix-icon","modelValue"])]),_:1}),l(i,{prop:"regCode"},{default:o(()=>[l(W,{modelValue:f.regCode,"onUpdate:modelValue":e[3]||(e[3]=s=>f.regCode=s),filterable:"",placeholder:"请选择管理员"},{default:o(()=>[(r(!0),p(te,null,ae(j.value,s=>(r(),c(J,{key:s.value,label:s.label,value:s.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"]),t("div",we,[n.value?u("",!0):(r(),c(x,{key:0,class:"register-btn",onClick:G},{default:o(()=>e[11]||(e[11]=[w("注册🌻")])),_:1,__:[11]})),n.value?(r(),c(x,{key:1,class:"register-disabled-btn",loading:n.value},{default:o(()=>e[12]||(e[12]=[w("注册中")])),_:1,__:[12]},8,["loading"])):u("",!0)])]),t("div",ye,[e[16]||(e[16]=t("div",{class:"login-title"},[t("h1",null,"LOGIN🍀")],-1)),l(I,{ref_key:"loginFormRef",ref:C,model:a,rules:M},{default:o(()=>[l(i,{prop:"userName"},{default:o(()=>[l(g,{type:"text",placeholder:"请输入用户名","suffix-icon":d(E),modelValue:a.loginName,"onUpdate:modelValue":e[4]||(e[4]=s=>a.loginName=s)},null,8,["suffix-icon","modelValue"])]),_:1}),l(i,{prop:"password"},{default:o(()=>[l(g,{type:"password",placeholder:"请输入密码","show-password":"","suffix-icon":d(N),modelValue:a.password,"onUpdate:modelValue":e[5]||(e[5]=s=>a.password=s)},null,8,["suffix-icon","modelValue"])]),_:1}),l(i,{prop:"securityCode"},{default:o(()=>[l(g,{type:"text",placeholder:"请输入验证码","suffix-icon":d(O),modelValue:a.securityCode,"onUpdate:modelValue":e[6]||(e[6]=s=>a.securityCode=s),onKeydown:A(V,["enter"])},null,8,["suffix-icon","modelValue"])]),_:1}),l(i,null,{default:o(()=>[t("img",{class:"w-100px h-30px",src:a.captchaPicture,onClick:y},null,8,ke),t("div",{class:"text-gray-400 text-12px m-l-10px select-none",onClick:y},"看不清，换一张")]),_:1})]),_:1},8,["model","rules"]),t("div",Ce,[n.value?u("",!0):(r(),c(x,{key:0,class:"login-btn",onClick:V},{default:o(()=>e[14]||(e[14]=[w("登录🌻")])),_:1,__:[14]})),n.value?(r(),c(x,{key:1,class:"login-disabled-btn",loading:n.value},{default:o(()=>e[15]||(e[15]=[w("登录中")])),_:1,__:[15]},8,["loading"])):u("",!0)])])],512)),d(h)?u("",!0):(r(),p("div",Ve,e[17]||(e[17]=[t("a",{href:"https://beian.miit.gov.cn/",target:"_blank"},"网站备案号：豫ICP备2022022094号-1",-1)]))),d(h)?(r(),p("div",Ne,[e[20]||(e[20]=t("div",{class:"login-title"},[t("h1",null,"LOGIN🍀")],-1)),l(I,{ref_key:"loginFormRef",ref:C,model:a,rules:M},{default:o(()=>[l(i,{prop:"userName"},{default:o(()=>[l(g,{type:"text",placeholder:"请输入用户名","suffix-icon":d(E),modelValue:a.loginName,"onUpdate:modelValue":e[7]||(e[7]=s=>a.loginName=s)},null,8,["suffix-icon","modelValue"])]),_:1}),l(i,{prop:"password"},{default:o(()=>[l(g,{type:"password",placeholder:"请输入密码","show-password":"","suffix-icon":d(N),modelValue:a.password,"onUpdate:modelValue":e[8]||(e[8]=s=>a.password=s)},null,8,["suffix-icon","modelValue"])]),_:1}),l(i,{prop:"securityCode"},{default:o(()=>[l(g,{type:"text",placeholder:"请输入验证码","suffix-icon":d(O),modelValue:a.securityCode,"onUpdate:modelValue":e[9]||(e[9]=s=>a.securityCode=s),onKeydown:A(V,["enter"])},null,8,["suffix-icon","modelValue"]),l(i,null,{default:o(()=>[t("div",he,[t("img",{class:"w-100px h-30px",src:a.captchaPicture,onClick:y},null,8,Ue),t("div",{class:"text-gray-400 w-100px text-12px m-l-10px select-none",onClick:y},"看不清，换一张")])]),_:1})]),_:1})]),_:1},8,["model","rules"]),t("div",Pe,[n.value?u("",!0):(r(),c(x,{key:0,class:"login-btn",onClick:V},{default:o(()=>e[18]||(e[18]=[w("登录🌻")])),_:1,__:[18]})),n.value?(r(),c(x,{key:1,class:"login-disabled-btn",loading:n.value},{default:o(()=>e[19]||(e[19]=[w("登录中")])),_:1,__:[19]},8,["loading"])):u("",!0)])])):u("",!0)])}}}),Be=fe(Fe,[["__scopeId","data-v-75e4ddff"]]);export{Be as default};
