import{d as F,u as U,h as j,t as E,i as L,j as w,l as k,m as C,o as O,n as p,w as o,r,a as t,g as l,p as y,q as a,s as V,v as h,x as P,y as $,z,A as H,B as N,C as G,D as J,H as Q,E as W,e as m,_ as X}from"./index-DpLe_dtH.js";import{a as Y}from"./authLogin-AlxdDqfg.js";const Z={class:"font-bold text-3xl text-light-50 mb-6px text-center"},ee={class:"flex items-center"},te={class:"ml-6px font-bold text-xl"},se=F({__name:"index",setup(oe){const{isScreen:S}=U(),K=j(),I=E(),A=L(),R=J(),T=w("images/logo/logo.webp"),B=w("images/login/bg.png"),g=k(),n=k(!1),s=C({loginName:"yuadmin",password:"123456",securityCode:"1234",codeKey:"",captchaPicture:""}),D=C({loginName:[{required:!0,message:"ç”¨æˆ·åä¸èƒ½ä¸ºç©º",trigger:"blur"}],password:[{required:!0,message:"å¯†ç ä¸èƒ½ä¸ºç©º",trigger:"blur"}],securityCode:[{required:!0,message:"éªŒè¯ç ä¸èƒ½ä¸ºç©º",trigger:"blur"}]}),f=async()=>{};O(()=>{f()});const b=()=>{g.value&&g.value.validate(async(v,e)=>{if(s.loginName,s.password,s.securityCode,s.codeKey,v){n.value=!0;try{K.setToken(Y.data.tokenValue),await G(),I.setTab([]),A.setKeepAliveName([]),n.value=!1,R.push(Q)}catch{let i=1;setInterval(()=>{i--,i===0&&(n.value=!1)},1e3)}}else W("æ ¡éªŒå¤±è´¥ï¼Œä¿¡æ¯å¡«å†™æœ‰è¯¯ðŸŒ»")})};return(v,e)=>{const c=r("el-image"),i=r("el-col"),x=r("el-input"),u=r("el-form-item"),_=r("el-button"),M=r("el-form"),q=r("el-row");return m(),p(q,{class:"min-h-screen"},{default:o(()=>[t(i,{lg:16,md:12,sm:0,xs:0,class:"bg-[--el-color-primary] flex items-center justify-center"},{default:o(()=>[l("div",null,[a(S)?y("",!0):(m(),p(c,{key:0,class:"w-400px h-360px mb-50px",src:a(B)},null,8,["src"])),l("div",Z," æ¬¢è¿Žç™»å½• "+V(a(h).loginTitle||"KOI-ADMIN ç®¡ç†å¹³å°"),1),e[3]||(e[3]=l("div",{class:"text-gray-200 text-lg text-center"},"æˆ–è®¸æˆ‘ä»¬åªæ˜¯å·®ç‚¹è¿æ°”",-1))]),e[4]||(e[4]=l("div",{class:"beianhao"},[l("a",{class:"text-light-50",href:"https://beian.miit.gov.cn/",target:"_blank"},"ç½‘ç«™å¤‡æ¡ˆå·ï¼šè±«ICPå¤‡2022022094å·-1")],-1))]),_:1,__:[4]}),t(i,{lg:8,md:12,sm:24,xs:24,class:"dark:bg-#121212 bg-gray-100 flex items-center justify-center flex-col"},{default:o(()=>[l("div",ee,[t(c,{class:"rounded-full w-36px h-36px",src:a(T)},null,8,["src"]),l("div",te,V(a(h).loginTitle||"KOI-ADMIN ç®¡ç†å¹³å°"),1)]),e[8]||(e[8]=l("div",{class:"flex items-center space-x-3 text-gray-400 mt-16px mb-16px"},[l("span",{class:"h-1px w-16 bg-gray-300 inline-block"}),l("span",{class:"text-center"},"è´¦å·å¯†ç ç™»å½•"),l("span",{class:"h-1px w-16 bg-gray-300 inline-block"})],-1)),t(M,{ref_key:"loginFormRef",ref:g,model:s,rules:D},{default:o(()=>[t(u,{prop:"userName"},{default:o(()=>[t(x,{type:"text",placeholder:"è¯·è¾“å…¥ç”¨æˆ·å","suffix-icon":a(P),modelValue:s.loginName,"onUpdate:modelValue":e[0]||(e[0]=d=>s.loginName=d)},null,8,["suffix-icon","modelValue"])]),_:1}),t(u,{prop:"password"},{default:o(()=>[t(x,{type:"password",placeholder:"è¯·è¾“å…¥å¯†ç ","show-password":"","suffix-icon":a($),modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=d=>s.password=d)},null,8,["suffix-icon","modelValue"])]),_:1}),t(u,{prop:"securityCode"},{default:o(()=>[t(x,{type:"text",placeholder:"è¯·è¾“å…¥éªŒè¯ç ","suffix-icon":a(H),modelValue:s.securityCode,"onUpdate:modelValue":e[2]||(e[2]=d=>s.securityCode=d),onKeydown:z(b,["enter"])},null,8,["suffix-icon","modelValue"])]),_:1}),t(u,null,{default:o(()=>[t(c,{class:"w-100px h-30px",src:s.captchaPicture,onClick:f},null,8,["src"]),t(_,{text:"",size:"small",class:"ml-6px",onClick:f},{default:o(()=>e[5]||(e[5]=[l("div",{class:"text-gray-400 hover:text-#8B5CF6 select-none"},"çœ‹ä¸æ¸…ï¼Œæ¢ä¸€å¼ ",-1)])),_:1,__:[5]})]),_:1}),t(u,null,{default:o(()=>[n.value?y("",!0):(m(),p(_,{key:0,type:"primary",class:"w-245px bg-[--el-color-primary]",round:"",onClick:b},{default:o(()=>e[6]||(e[6]=[N("ç™»å½•")])),_:1,__:[6]})),n.value?(m(),p(_,{key:1,type:"primary",class:"w-245px bg-[--el-color-primary]",round:"",loading:n.value},{default:o(()=>e[7]||(e[7]=[N("ç™»å½•ä¸­")])),_:1,__:[7]},8,["loading"])):y("",!0)]),_:1})]),_:1},8,["model","rules"])]),_:1,__:[8]})]),_:1})}}}),re=X(se,[["__scopeId","data-v-1669e802"]]);export{re as default};
