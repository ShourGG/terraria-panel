import{i as g,L as y}from"./index-CIGBWQpf.js";import{d as S,l,o as E,O as w,c as A,e as C}from"./index-rAFU2v1v.js";const b=S({__name:"KoiRightChart",setup(_){const i=l(),r=l(),s=l(),d=l(),u=l();E(()=>{f(),p(),c(),window.addEventListener("resize",c),x()}),w(()=>{r.value.dispose(),r.value=null,clearInterval(u.value),u.value=null,window.removeEventListener("resize",c)});const f=()=>{var o;r.value=g(i.value);const e={title:{text:"世界玩家数量统计",top:"0%",textStyle:{color:"#077EF8"}},grid:{top:"12%",left:"6%",bottom:"6%",right:"0"},tooltip:{show:!0,trigger:"axis"},legend:{data:["当前玩家数","平均在线人数"],right:"5%"},xAxis:[{type:"category",axisPointer:{type:"shadow"}}],yAxis:[{type:"value",splitLine:{show:!1},name:"玩家数量",min:0}],series:[{name:"当前玩家数",type:"bar",tooltip:{valueFormatter:function(t){return t+" 人"}}},{name:"平均在线人数",type:"line",tooltip:{valueFormatter:function(t){return t+" 人"}},smooth:!0,itemStyle:{color:"#00f2f1"}}]};(o=r.value)==null||o.setOption(e)},p=()=>{s.value=[],d.value=[];const e=[{name:"泰拉主世界",current:5,average:4},{name:"矿石世界",current:3,average:2},{name:"Boss世界",current:2,average:3},{name:"PVP竞技场",current:2,average:2},{name:"生存挑战",current:0,average:1}];s.value=e.map(a=>a.name);const o=e.map(a=>a.current),t=e.map(a=>a.average);h(o,t)},h=(e,o)=>{var m;const t=[["#0BA82C","#4FF778"],["#2E72BF","#23E5E5"],["#5052EE","#AB6EE5"],["hotpink","lightsalmon"]],a={xAxis:{data:s.value},series:[{data:e,itemStyle:{label:{show:!0,position:"top",formatter:"{c} 人",textStyle:{color:"#077EF8"}},color:v=>{let n=null;return v.value>4?n=t[0]:v.value>2?n=t[1]:v.value>0?n=t[2]:n=t[3],new y(0,0,0,1,[{offset:0,color:n[0]},{offset:1,color:n[1]}])}}},{data:o}]};(m=r.value)==null||m.setOption(a)},c=()=>{var t,a;const e=l(Math.round(((t=i.value)==null?void 0:t.offsetWidth)/50)),o={title:{textStyle:{fontSize:e.value}},legend:{textStyle:{fontSize:e.value*.8}},xAxis:{axisLabel:{fontSize:Math.round(e.value*.8)}},yAxis:{axisLabel:{fontSize:Math.round(e.value*.8)}},series:[{barWidth:Math.round(e.value*1.8),itemStyle:{label:{textStyle:{fontSize:Math.round(e.value*.8)}}}}]};(a=r.value)==null||a.setOption(o),r.value.resize()},x=()=>{u.value=setInterval(()=>{p()},1e4)};return(e,o)=>(C(),A("div",{ref_key:"refChart",ref:i,style:{"max-width":"800px",height:"350px"}},null,512))}});export{b as _};
