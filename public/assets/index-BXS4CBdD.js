import{d as E,u as M,h as q,t as O,i as P,j as h,l as C,m as V,o as j,n as m,w as l,r as n,a as s,g as t,p as b,q as a,s as i,v as N,V as f,x as $,y as z,z as H,A as G,B as S,C as J,D as Q,H as W,E as X,e as g,_ as Y}from"./index-rAFU2v1v.js";import{a as Z}from"./authLogin-AlxdDqfg.js";const ee={class:"font-bold text-3xl text-light-50 mb-6px text-center"},se={class:"beianhao"},te={class:"text-light-50"},oe={class:"flex items-center"},le={class:"ml-6px font-bold text-xl"},ae={class:"version-info text-gray-400 mt-4 text-center"},ne=E({__name:"index",setup(re){const{isScreen:R}=M(),T=q(),A=O(),U=P(),B=Q(),F=h("images/logo/logo.webp"),I=h("images/login/bg.png"),x=C(),r=C(!1),o=V({loginName:"admin",password:"123456",securityCode:"1234",codeKey:"",captchaPicture:""}),K=V({loginName:[{required:!0,message:"用户名不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}],securityCode:[{required:!0,message:"验证码不能为空",trigger:"blur"}]}),_=async()=>{};j(()=>{_()});const w=()=>{x.value&&x.value.validate(async(k,e)=>{if(o.loginName,o.password,o.securityCode,o.codeKey,k){r.value=!0;try{T.setToken(Z.data.tokenValue),await J(),A.setTab([]),U.setKeepAliveName([]),r.value=!1,B.push(W)}catch{let u=1;setInterval(()=>{u--,u===0&&(r.value=!1)},1e3)}}else X("校验失败，信息填写有误🌻")})};return(k,e)=>{const p=n("el-image"),u=n("el-col"),y=n("el-input"),c=n("el-form-item"),v=n("el-button"),L=n("el-form"),D=n("el-row");return g(),m(D,{class:"min-h-screen"},{default:l(()=>[s(u,{lg:16,md:12,sm:0,xs:0,class:"bg-[--el-color-primary] flex items-center justify-center"},{default:l(()=>[t("div",null,[a(R)?b("",!0):(g(),m(p,{key:0,class:"w-400px h-360px mb-50px",src:a(I)},null,8,["src"])),t("div",ee," 欢迎登录 "+i(a(N).loginTitle||"泰拉瑞亚管理平台"),1),e[3]||(e[3]=t("div",{class:"text-gray-200 text-lg text-center"},"轻松管理您的泰拉瑞亚服务器",-1))]),t("div",se,[t("div",te,"泰拉瑞亚管理平台 v"+i(a(f).PLATFORM)+" | UI v"+i(a(f).UI),1)])]),_:1}),s(u,{lg:8,md:12,sm:24,xs:24,class:"dark:bg-#121212 bg-gray-100 flex items-center justify-center flex-col"},{default:l(()=>[t("div",oe,[s(p,{class:"rounded-full w-36px h-36px",src:a(F)},null,8,["src"]),t("div",le,i(a(N).loginTitle||"泰拉瑞亚管理平台"),1)]),e[7]||(e[7]=t("div",{class:"flex items-center space-x-3 text-gray-400 mt-16px mb-16px"},[t("span",{class:"h-1px w-16 bg-gray-300 inline-block"}),t("span",{class:"text-center"},"账号密码登录"),t("span",{class:"h-1px w-16 bg-gray-300 inline-block"})],-1)),s(L,{ref_key:"loginFormRef",ref:x,model:o,rules:K},{default:l(()=>[s(c,{prop:"userName"},{default:l(()=>[s(y,{type:"text",placeholder:"请输入用户名","suffix-icon":a($),modelValue:o.loginName,"onUpdate:modelValue":e[0]||(e[0]=d=>o.loginName=d)},null,8,["suffix-icon","modelValue"])]),_:1}),s(c,{prop:"password"},{default:l(()=>[s(y,{type:"password",placeholder:"请输入密码","show-password":"","suffix-icon":a(z),modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=d=>o.password=d)},null,8,["suffix-icon","modelValue"])]),_:1}),s(c,{prop:"securityCode"},{default:l(()=>[s(y,{type:"text",placeholder:"请输入验证码","suffix-icon":a(G),modelValue:o.securityCode,"onUpdate:modelValue":e[2]||(e[2]=d=>o.securityCode=d),onKeydown:H(w,["enter"])},null,8,["suffix-icon","modelValue"])]),_:1}),s(c,null,{default:l(()=>[s(p,{class:"w-100px h-30px",src:o.captchaPicture,onClick:_},null,8,["src"]),s(v,{text:"",size:"small",class:"ml-6px",onClick:_},{default:l(()=>e[4]||(e[4]=[t("div",{class:"text-gray-400 hover:text-#8B5CF6 select-none"},"看不清，换一张",-1)])),_:1,__:[4]})]),_:1}),s(c,null,{default:l(()=>[r.value?b("",!0):(g(),m(v,{key:0,type:"primary",class:"w-245px bg-[--el-color-primary]",round:"",onClick:w},{default:l(()=>e[5]||(e[5]=[S("登录")])),_:1,__:[5]})),r.value?(g(),m(v,{key:1,type:"primary",class:"w-245px bg-[--el-color-primary]",round:"",loading:r.value},{default:l(()=>e[6]||(e[6]=[S("登录中")])),_:1,__:[6]},8,["loading"])):b("",!0)]),_:1})]),_:1},8,["model","rules"]),t("div",ae," 版本: v"+i(a(f).PLATFORM)+" ("+i(a(f).BUILD_DATE)+") ",1)]),_:1,__:[7]})]),_:1})}}}),ce=Y(ne,[["__scopeId","data-v-a0273adf"]]);export{ce as default};
