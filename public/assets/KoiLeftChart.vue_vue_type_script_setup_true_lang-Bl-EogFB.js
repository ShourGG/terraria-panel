import{i as x,L as y}from"./index-CIGBWQpf.js";import{d as b,l as n,o as E,O as A,c as S,e as L}from"./index-BJRxHYLM.js";const z=b({__name:"KoiLeftChart",setup(M){const u=n(),t=n(),v=n([{name:"CPU使用率",value:45},{name:"内存使用率",value:65},{name:"磁盘使用率",value:78},{name:"网络带宽使用率",value:42}]),r=n();E(()=>{h(),d(),c(),window.addEventListener("resize",c),m()}),A(()=>{t.value.dispose(),t.value=null,clearInterval(r.value),r.value=null,window.removeEventListener("resize",c)});const h=()=>{var a;t.value=x(u.value);const e={title:{text:"系统资源使用率",left:0,top:0,textStyle:{color:"#077EF8"},subtext:"如果泰拉瑞亚管理平台运行在容器中，指标将根据容器资源进行计算"},grid:{top:"25%",left:"0",right:"0",bottom:"0",containLabel:!0},tooltip:{show:!0,formatter:"{b}: {c}%"},xAxis:{type:"category"},yAxis:{type:"value",splitLine:{show:!1},max:100,axisLabel:{formatter:"{value}%"}},series:[{type:"bar",label:{color:"#077EF8",show:!0,position:"top",formatter:"{c}%"}}]};(a=t.value)==null||a.setOption(e),t.value.on("mouseover",()=>{clearInterval(r.value)}),t.value.on("mouseout",()=>{m()})},d=()=>{f()},f=()=>{var p;const e=[["#0BA82C","#4FF778"],["#2E72BF","#23E5E5"],["#5052EE","#AB6EE5"],["hotpink","lightsalmon"]],a=v.value.map(o=>o.name),s=v.value.map(o=>o.value),i={xAxis:{data:a},series:[{data:s,itemStyle:{label:{show:!0,position:"top",formatter:"{c}%"},color:o=>{let l=null;return o.value>80?l=e[3]:o.value>60?l=e[2]:o.value>40?l=e[1]:l=e[0],new y(0,0,0,1,[{offset:0,color:l[0]},{offset:1,color:l[1]}])}}}]};(p=t.value)==null||p.setOption(i)},m=()=>{r.value=setInterval(()=>{v.value.forEach(e=>{const a=Math.random()*10-5;e.value=Math.max(5,Math.min(95,e.value+a))}),f()},3e3)},c=()=>{var s,i;const e=n(Math.round(((s=u.value)==null?void 0:s.offsetWidth)/50)),a={title:{textStyle:{fontSize:e.value},subtextStyle:{fontSize:Math.round(e.value*.7)}},xAxis:{axisLabel:{fontSize:Math.round(e.value*.8)}},yAxis:{axisLabel:{fontSize:Math.round(e.value*.8)}},series:[{barWidth:Math.round(e.value*2),itemStyle:{label:{textStyle:{fontSize:Math.round(e.value*.8)}}}}]};(i=t.value)==null||i.setOption(a),t.value.resize()};return(e,a)=>(L(),S("div",{ref_key:"refChart",ref:u,style:{height:"350px"}},null,512))}});export{z as _};
